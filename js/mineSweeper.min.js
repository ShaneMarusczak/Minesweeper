var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,c,d,g){if(c){d=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var e=a[g];e in d||(d[e]={});d=d[e]}a=a[a.length-1];g=d[a];c=c(g);c!=g&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,d,g){$jscomp.initSymbolIterator();d=null!=d?d:function(a){return a};var e=[],c=a[Symbol.iterator];if("function"==typeof c)for(a=c.call(a);!(c=a.next()).done;)e.push(d.call(g,c.value));else for(var c=a.length,p=0;p<c;p++)e.push(d.call(g,a[p]));return e}},"es6-impl","es3");$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var g=a.length,e=0;e<g;e++){var t=a[e];if(c.call(d,t,e,a))return{i:e,v:t}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
(function(){function a(){m++;60<=m&&(m=0,l++,60<=l&&(l=0,q++));u.textContent=(q?9<q?q:"0"+q:"00")+":"+(l?9<l?l:"0"+l:"00")+":"+(9<m?m:"0"+m);v=setTimeout(a,1E3)}function c(){if(10===h)return w.easy;if(15===h)return w.medium;if(20===h)return w.hard;if(30===h)return w.veryhard}function d(a,b){if(!(f[a][b].questionMark||f[a][b].flag||f[a][b].bomb||f[a][b].checked))if(f[a][b].hasBombNeighbor)f[a][b].showNumber();else{f[a][b].flipped=!0;f[a][b].clickable=!1;e(a,b).classList.add("flipped");e(a,b).classList.add("empty");
f[a][b].checked=!0;for(var r=$jscomp.makeIterator(f[a][b].neighbors),c=r.next();!c.done;c=r.next())c=c.value,d(c[0],c[1])}}function g(){return Number(Array.from(document.getElementById("difficulty").options).find(function(a){return a.selected}).value)}function e(a,b){return document.getElementById("cell-"+a+"-"+b)}function t(r){x||A||(document.getElementById("difForm").classList.add("hidden"),r.target.disabled=!0,r.target.classList.add("hidden"),p(),x=A=!0,u.classList.remove("hide"),timerContainer.classList.remove("hide"),
v=setTimeout(a,1E3))}function p(){h=g();for(var a=0;a<h;a++){f.push([]);var b=document.createElement("div");b.id="col-"+a;b.classList.add("col");D.appendChild(b);for(var c={},e=0;e<h;c={newCell:c.newCell},e++){c.newCell=new k(a,e);f[a].push(c.newCell);f[a][e].setNeighbors();var d=document.createElement("div");d.id="cell-"+a+"-"+e;d.classList.add("cell");b.appendChild(d);d.addEventListener("mouseup",function(a){return function(b){return a.newCell.handleClick(b)}}(c))}}C()}function C(){for(var a=c(),
b=h-1;0<a;){var e,d;do e=window.randomIntFromInterval(0,b),d=window.randomIntFromInterval(0,b);while(f[e][d].bomb);f[e][d].setBomb();a--}}function B(){y.checked?(u.classList.add("notShown"),window.setCookie("hideSudokuTimer","Y",30)):(u.classList.remove("notShown"),window.setCookie("hideSudokuTimer","N",30))}var x=!1,z=!1,A=!1,h=0,v,m=0,l=0,q=0,f=[],w={easy:20,medium:45,hard:75,veryhard:125},D=document.getElementById("gameBoard_UI"),y=document.getElementById("hideTimer"),u=document.getElementById("timer"),
k=function(a,b){this.x=a;this.y=b;this.neighbors=[];this.hasBombNeighbor=this.bomb=!1;this.bombNeighborCount=0;this.checked=!1;this.clickable=!0;this.flipped=this.questionMark=this.flag=!1};k.prototype.setNeighbors=function(){for(var a=[-1,0,1],b=$jscomp.makeIterator(a),c=b.next();!c.done;c=b.next())for(var c=c.value,e=$jscomp.makeIterator(a),d=e.next();!d.done;d=e.next()){var d=d.value,f=this.x+c,g=this.y+d;0<=f&&f<h&&0<=g&&g<h&&(0!==c||0!==d)&&this.neighbors.push([this.x+c,this.y+d])}};k.prototype.setBomb=
function(){this.bomb=!0;for(var a=$jscomp.makeIterator(this.neighbors),b=a.next();!b.done;b=a.next())b=b.value,f[b[0]][b[1]].hasBombNeighbor=!0,f[b[0]][b[1]].bombNeighborCount++};k.prototype.handleClick=function(a){if(x&&!z&&!this.flipped){if(0===a.button&&this.clickable)if(this.bomb){z=this.flipped=!0;this.clickable=!1;e(this.x,this.y).classList.add("bomb");for(a=0;a<h;a++)for(var b=0;b<h;b++)f[a][b].bomb&&this.x!==a&&this.y!==b&&e(a,b).classList.add("not-exploded");clearTimeout(v);alert("you lose")}else if(this.hasBombNeighbor)this.showNumber();
else{for(a=0;a<h;a++)for(b=0;b<h;b++)f[a][b].checked=!1;d(this.x,this.y)}else 2===a.button&&this.showFlagOrQuestionMark();a=c();for(var b=Math.pow(h,2),g=0,l=0,m=0,k=0;k<h;k++)for(var n=0;n<h;n++)f[k][n].flipped&&g++,f[k][n].flag&&m++,f[k][n].bomb&&f[k][n].flag&&l++;if(l===a&&g===a||b-g===a)z=!0,clearTimeout(v),alert("you win")}};k.prototype.showFlagOrQuestionMark=function(){this.flag?(e(this.x,this.y).textContent="?",e(this.x,this.y).classList.remove("flag"),e(this.x,this.y).classList.add("question-mark"),
this.flag=!1,this.questionMark=!0):(this.questionMark?(e(this.x,this.y).textContent="",this.questionMark=this.flag=!1,this.clickable=!0,e(this.x,this.y).classList.remove("flag")):(this.flag=!0,this.clickable=!1,e(this.x,this.y).classList.add("flag")),e(this.x,this.y).classList.remove("question-mark"))};k.prototype.showNumber=function(){this.flipped=!0;this.clickable=!1;e(this.x,this.y).textContent=this.bombNeighborCount;e(this.x,this.y).classList.add("flipped")};(function(){document.getElementById("buildGrid").addEventListener("click",
t);y.addEventListener("click",B);y.checked="Y"===window.getCookie("hideSudokuTimer");B();document.oncontextmenu=function(){return!1}})()})();
