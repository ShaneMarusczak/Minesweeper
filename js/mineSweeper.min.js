var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var e=0;return $jscomp.iteratorPrototype(function(){return e<a.length?{done:!1,value:a[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var e=a[Symbol.iterator];return e?e.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,e,c,h){if(e){c=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var m=a[h];m in c||(c[m]={});c=c[m]}a=a[a.length-1];h=c[a];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,h){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var e=[],k=a[Symbol.iterator];if("function"==typeof k)for(a=k.call(a);!(k=a.next()).done;)e.push(c.call(h,k.value));else for(var k=a.length,d=0;d<k;d++)e.push(c.call(h,a[d]));return e}},"es6-impl","es3");$jscomp.findInternal=function(a,e,c){a instanceof String&&(a=String(a));for(var h=a.length,m=0;m<h;m++){var k=a[m];if(e.call(c,k,m,a))return{i:m,v:k}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
(function(){function a(){q++;60<=q&&(q=0,p++,60<=p&&(p=0,r++));n=q+60*p+3600*r;u.textContent=(r?9<r?r:"0"+r:"00")+":"+(p?9<p?p:"0"+p:"00")+":"+(9<q?q:"0"+q);w=setTimeout(a,1E3)}function e(){if(10===g)return v.easy;if(15===g)return v.medium;if(20===g)return v.hard;if(30===g)return v.veryhard}function c(l){x+=l;document.getElementById("bombsLeft").textContent=x}function h(l){for(var b=0;b<g;b++)for(var a=0;a<g;a++)f[b][a].bomb&&f[b][a].flag?(d(b,a).classList.remove("flag"),d(b,a).classList.add("correct")):
!f[b][a].bomb&&f[b][a].flag&&(d(b,a).classList.remove("flag"),d(b,a).classList.add("incorrect"));A=!0;clearTimeout(w);window.modal(l,2E3)}function m(a,b){if(!(f[a][b].questionMark||f[a][b].flag||f[a][b].bomb||f[a][b].checked))if(f[a][b].hasBombNeighbor)f[a][b].showNumber();else{f[a][b].flipped=!0;f[a][b].clickable=!1;d(a,b).classList.add("flipped");d(a,b).classList.add("empty");f[a][b].checked=!0;for(var l=$jscomp.makeIterator(f[a][b].neighbors),c=l.next();!c.done;c=l.next())c=c.value,m(c[0],c[1])}}
function k(){return Number(Array.from(document.getElementById("difficulty").options).find(function(a){return a.selected}).value)}function d(a,b){return document.getElementById("cell-"+a+"-"+b)}function H(l){y||B||(document.getElementById("updateText").classList.add("hide"),document.getElementById("difForm").classList.add("hidden"),document.getElementById("highScores").classList.add("hide"),l.target.disabled=!0,l.target.classList.add("hidden"),I(),y=B=!0,u.classList.remove("hide"),timerContainer.classList.remove("hide"),
w=setTimeout(a,1E3),x=e(),c(0))}function I(){g=k();for(var a=0;a<g;a++){f.push([]);var b=document.createElement("div");b.id="col-"+a;b.classList.add("col");document.getElementById("gameBoard_UI").appendChild(b);for(var c={},e=0;e<g;c={newCell:c.newCell},e++){c.newCell=new t(a,e);f[a].push(c.newCell);f[a][e].setNeighbors();var d=document.createElement("div");d.id="cell-"+a+"-"+e;d.classList.add("cell");b.appendChild(d);d.addEventListener("mouseup",function(a){return function(b){return a.newCell.handleClick(b)}}(c))}}J()}
function J(){for(var a=e();0<a;){var b,c;do b=window.randomIntFromInterval(0,g),c=window.randomIntFromInterval(0,g);while(!(0<=b&&b<g&&0<=c&&c<g)||f[b][c].bomb);f[b][c].setBomb();a--}}function C(){z.checked?(u.classList.add("notShown"),window.setCookie("hideSudokuTimer","Y",30)):(u.classList.remove("notShown"),window.setCookie("hideSudokuTimer","N",30))}var y=!1,A=!1,B=!1,g=0,w,q=0,p=0,r=0,n=0,x,K=window.getCookie("mnswpreasy"),L=window.getCookie("mnswprmed"),M=window.getCookie("mnswprhard"),N=window.getCookie("mnswprvhard"),
D=Number(window.getCookie("mnswpreasysec")),E=Number(window.getCookie("mnswprmedsec")),F=Number(window.getCookie("mnswprhardsec")),G=Number(window.getCookie("mnswprvhardsec")),f=[],v={easy:12,medium:35,hard:62,veryhard:107},z=document.getElementById("hideTimer"),u=document.getElementById("timer"),t=function(a,b){this.x=a;this.y=b;this.neighbors=[];this.hasBombNeighbor=this.bomb=!1;this.bombNeighborCount=0;this.checked=!1;this.clickable=!0;this.flipped=this.questionMark=this.flag=!1};t.prototype.setNeighbors=
function(){for(var a=[-1,0,1],b=$jscomp.makeIterator(a),c=b.next();!c.done;c=b.next())for(var c=c.value,e=$jscomp.makeIterator(a),d=e.next();!d.done;d=e.next()){var d=d.value,f=this.x+c,h=this.y+d;0<=f&&f<g&&0<=h&&h<g&&(0!==c||0!==d)&&this.neighbors.push([this.x+c,this.y+d])}};t.prototype.setBomb=function(){this.bomb=!0;d(this.x,this.y).style.backgroundColor="pink";for(var a=$jscomp.makeIterator(this.neighbors),b=a.next();!b.done;b=a.next())b=b.value,f[b[0]][b[1]].hasBombNeighbor=!0,f[b[0]][b[1]].bombNeighborCount++};
t.prototype.handleClick=function(a){if(y&&!A&&!this.flipped){if(0===a.button&&this.clickable)if(this.bomb){this.flipped=!0;this.clickable=!1;d(this.x,this.y).classList.add("explosion");for(a=0;a<g;a++)for(var b=0;b<g;b++)this.x===a&&this.y===b||!f[a][b].bomb||f[a][b].flag||d(a,b).classList.add("bomb");h("You Lose!")}else if(this.hasBombNeighbor)this.showNumber();else{for(a=0;a<g;a++)for(b=0;b<g;b++)f[a][b].checked=!1;m(this.x,this.y)}else 2===a.button&&this.showFlagOrQuestionMark();a=e();for(var c=
b=0,k=0;k<g;k++)for(var l=0;l<g;l++)f[k][l].flag&&c++,f[k][l].bomb&&f[k][l].flag&&b++;if(b===a&&c===a){a=u.textContent;if(10===g){if(n<D||0===D)window.setCookie("mnswpreasy",a,30),window.setCookie("mnswpreasysec",n,30)}else if(15===g){if(n<E||0===E)window.setCookie("mnswprmed",a,30),window.setCookie("mnswprmedsec",n,30)}else if(20===g){if(n<F||0===F)window.setCookie("mnswprhard",a,30),window.setCookie("mnswprhardsec",n,30)}else 30===g&&(n<G||0===G)&&(window.setCookie("mnswprvhard",a,30),window.setCookie("mnswprvhardsec",
n,30));h("You Win!")}}};t.prototype.showFlagOrQuestionMark=function(){this.flag?(d(this.x,this.y).textContent="?",d(this.x,this.y).classList.remove("flag"),d(this.x,this.y).classList.add("question-mark"),this.flag=!1,this.questionMark=!0,c(1)):(this.questionMark?(d(this.x,this.y).textContent="",this.questionMark=this.flag=!1,this.clickable=!0,d(this.x,this.y).classList.remove("flag")):(this.flag=!0,this.clickable=!1,c(-1),d(this.x,this.y).classList.add("flag")),d(this.x,this.y).classList.remove("question-mark"))};
t.prototype.showNumber=function(){this.flipped=!0;this.clickable=!1;d(this.x,this.y).textContent=this.bombNeighborCount;d(this.x,this.y).classList.add("flipped")};(function(){document.getElementById("buildGrid").addEventListener("click",H);z.addEventListener("click",C);z.checked="Y"===window.getCookie("hideSudokuTimer");C();document.oncontextmenu=function(){return!1};document.getElementById("easyBestScore").textContent=K;document.getElementById("medBestScore").textContent=L;document.getElementById("hardBestScore").textContent=
M;document.getElementById("vhardBestScore").textContent=N})()})();
