var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var d=a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,d,b,g){if(d){b=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var l=a[g];l in b||(b[l]={});b=b[l]}a=a[a.length-1];g=b[a];d=d(g);d!=g&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,b,g){$jscomp.initSymbolIterator();b=null!=b?b:function(a){return a};var d=[],c=a[Symbol.iterator];if("function"==typeof c)for(a=c.call(a);!(c=a.next()).done;)d.push(b.call(g,c.value));else for(var c=a.length,q=0;q<c;q++)d.push(b.call(g,a[q]));return d}},"es6-impl","es3");$jscomp.findInternal=function(a,d,b){a instanceof String&&(a=String(a));for(var g=a.length,l=0;l<g;l++){var c=a[l];if(d.call(b,c,l,a))return{i:l,v:c}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");
(function(){function a(){m++;60<=m&&(m=0,p++,60<=p&&(p=0,r++));t.textContent=(r?9<r?r:"0"+r:"00")+":"+(p?9<p?p:"0"+p:"00")+":"+(9<m?m:"0"+m);u=setTimeout(a,1E3)}function d(){if(10===h)return v.easy;if(15===h)return v.medium;if(20===h)return v.hard;if(30===h)return v.veryhard}function b(f){w+=f;document.getElementById("bombsLeft").textContent=w}function g(f,a){if(!(e[f][a].questionMark||e[f][a].flag||e[f][a].bomb||e[f][a].checked))if(e[f][a].hasBombNeighbor)e[f][a].showNumber();else{e[f][a].flipped=
!0;e[f][a].clickable=!1;c(f,a).classList.add("flipped");c(f,a).classList.add("empty");e[f][a].checked=!0;for(var k=$jscomp.makeIterator(e[f][a].neighbors),b=k.next();!b.done;b=k.next())b=b.value,g(b[0],b[1])}}function l(){return Number(Array.from(document.getElementById("difficulty").options).find(function(a){return a.selected}).value)}function c(a,k){return document.getElementById("cell-"+a+"-"+k)}function q(f){x||A||(document.getElementById("difForm").classList.add("hidden"),f.target.disabled=!0,
f.target.classList.add("hidden"),C(),x=A=!0,t.classList.remove("hide"),timerContainer.classList.remove("hide"),u=setTimeout(a,1E3),w=d(),b(0))}function C(){h=l();for(var a=0;a<h;a++){e.push([]);var k=document.createElement("div");k.id="col-"+a;k.classList.add("col");document.getElementById("gameBoard_UI").appendChild(k);for(var b={},c=0;c<h;b={newCell:b.newCell},c++){b.newCell=new n(a,c);e[a].push(b.newCell);e[a][c].setNeighbors();var d=document.createElement("div");d.id="cell-"+a+"-"+c;d.classList.add("cell");
k.appendChild(d);d.addEventListener("mouseup",function(a){return function(f){return a.newCell.handleClick(f)}}(b))}}D()}function D(){for(var a=d(),k=h-1;0<a;){var b,c;do b=window.randomIntFromInterval(0,k),c=window.randomIntFromInterval(0,k);while(e[b][c].bomb);e[b][c].setBomb();a--}}function B(){y.checked?(t.classList.add("notShown"),window.setCookie("hideSudokuTimer","Y",30)):(t.classList.remove("notShown"),window.setCookie("hideSudokuTimer","N",30))}var x=!1,z=!1,A=!1,h=0,u,m=0,p=0,r=0,w,e=[],
v={easy:20,medium:45,hard:75,veryhard:125},y=document.getElementById("hideTimer"),t=document.getElementById("timer"),n=function(a,k){this.x=a;this.y=k;this.neighbors=[];this.hasBombNeighbor=this.bomb=!1;this.bombNeighborCount=0;this.checked=!1;this.clickable=!0;this.flipped=this.questionMark=this.flag=!1};n.prototype.setNeighbors=function(){for(var a=[-1,0,1],k=$jscomp.makeIterator(a),b=k.next();!b.done;b=k.next())for(var b=b.value,c=$jscomp.makeIterator(a),d=c.next();!d.done;d=c.next()){var d=d.value,
e=this.x+b,g=this.y+d;0<=e&&e<h&&0<=g&&g<h&&(0!==b||0!==d)&&this.neighbors.push([this.x+b,this.y+d])}};n.prototype.setBomb=function(){this.bomb=!0;for(var a=$jscomp.makeIterator(this.neighbors),b=a.next();!b.done;b=a.next())b=b.value,e[b[0]][b[1]].hasBombNeighbor=!0,e[b[0]][b[1]].bombNeighborCount++};n.prototype.handleClick=function(a){if(x&&!z&&!this.flipped){if(0===a.button&&this.clickable)if(this.bomb){z=this.flipped=!0;this.clickable=!1;c(this.x,this.y).classList.add("explosion");for(a=0;a<h;a++)for(var b=
0;b<h;b++)e[a][b].bomb&&this.x!==a&&this.y!==b&&!e[a][b].flag?c(a,b).classList.add("bomb"):e[a][b].bomb&&e[a][b].flag?(c(a,b).classList.remove("flag"),c(a,b).classList.add("correct")):!e[a][b].bomb&&e[a][b].flag&&(c(a,b).classList.remove("flag"),c(a,b).classList.add("incorrect"));clearTimeout(u);window.modal("You Lose!",2E3)}else if(this.hasBombNeighbor)this.showNumber();else{for(a=0;a<h;a++)for(b=0;b<h;b++)e[a][b].checked=!1;g(this.x,this.y)}else 2===a.button&&this.showFlagOrQuestionMark();a=d();
for(var b=Math.pow(h,2),f=0,l=0,p=0,m=0;m<h;m++)for(var n=0;n<h;n++)e[m][n].flipped&&f++,e[m][n].flag&&p++,e[m][n].bomb&&e[m][n].flag&&l++;if(l===a&&f===a||b-f===a)z=!0,clearTimeout(u),window.modal("You Win!",2E3)}};n.prototype.showFlagOrQuestionMark=function(){this.flag?(c(this.x,this.y).textContent="?",c(this.x,this.y).classList.remove("flag"),c(this.x,this.y).classList.add("question-mark"),this.flag=!1,this.questionMark=!0,b(1)):(this.questionMark?(c(this.x,this.y).textContent="",this.questionMark=
this.flag=!1,this.clickable=!0,c(this.x,this.y).classList.remove("flag")):(this.flag=!0,this.clickable=!1,b(-1),c(this.x,this.y).classList.add("flag")),c(this.x,this.y).classList.remove("question-mark"))};n.prototype.showNumber=function(){this.flipped=!0;this.clickable=!1;c(this.x,this.y).textContent=this.bombNeighborCount;c(this.x,this.y).classList.add("flipped")};(function(){document.getElementById("buildGrid").addEventListener("click",q);y.addEventListener("click",B);y.checked="Y"===window.getCookie("hideSudokuTimer");
B();document.oncontextmenu=function(){return!1}})()})();
