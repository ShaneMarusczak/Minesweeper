var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,d){if(d.get||d.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,c,d,g){if(c){d=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var b=a[g];b in d||(d[b]={});d=d[b]}a=a[a.length-1];g=d[a];c=c(g);c!=g&&null!=c&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,d,g){$jscomp.initSymbolIterator();d=null!=d?d:function(a){return a};var b=[],c=a[Symbol.iterator];if("function"==typeof c)for(a=c.call(a);!(c=a.next()).done;)b.push(d.call(g,c.value));else for(var c=a.length,p=0;p<c;p++)b.push(d.call(g,a[p]));return b}},"es6-impl","es3");$jscomp.findInternal=function(a,c,d){a instanceof String&&(a=String(a));for(var g=a.length,b=0;b<g;b++){var r=a[b];if(c.call(d,r,b,a))return{i:b,v:r}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6-impl","es3");
(function(){function a(){l++;60<=l&&(l=0,n++,60<=n&&(n=0,q++));t.textContent=(q?9<q?q:"0"+q:"00")+":"+(n?9<n?n:"0"+n:"00")+":"+(9<l?l:"0"+l);u=setTimeout(a,1E3)}function c(){if(10===k)return v.easy;if(15===k)return v.medium;if(20===k)return v.hard;if(30===k)return v.veryhard}function d(h,a){if(!(f[h][a].questionMark||f[h][a].flag||f[h][a].bomb||f[h][a].checked))if(f[h][a].hasBombNeighbor)f[h][a].showNumber();else{f[h][a].flipped=!0;f[h][a].clickable=!1;b(h,a).classList.add("flipped");b(h,a).classList.add("empty");
f[h][a].checked=!0;for(var e=$jscomp.makeIterator(f[h][a].neighbors),c=e.next();!c.done;c=e.next())c=c.value,d(c[0],c[1])}}function g(){return Number(Array.from(document.getElementById("difficulty").options).find(function(a){return a.selected}).value)}function b(a,e){return document.getElementById("cell-"+a+"-"+e)}function r(h){w||z||(document.getElementById("difForm").classList.add("hidden"),h.target.disabled=!0,h.target.classList.add("hidden"),p(),w=z=!0,t.classList.remove("hide"),timerContainer.classList.remove("hide"),
u=setTimeout(a,1E3))}function p(){k=g();for(var a=0;a<k;a++){f.push([]);var e=document.createElement("div");e.id="col-"+a;e.classList.add("col");C.appendChild(e);for(var c={},b=0;b<k;c={newCell:c.newCell},b++){c.newCell=new m(a,b);f[a].push(c.newCell);f[a][b].setNeighbors();var d=document.createElement("div");d.id="cell-"+a+"-"+b;d.classList.add("cell");e.appendChild(d);d.addEventListener("mouseup",function(a){return function(h){return a.newCell.handleClick(h)}}(c))}}B()}function B(){for(var a=c(),
e=k-1;0<a;){var b,d;do b=window.randomIntFromInterval(0,e),d=window.randomIntFromInterval(0,e);while(f[b][d].bomb);f[b][d].setBomb();a--}}function A(){x.checked?(t.classList.add("notShown"),window.setCookie("hideSudokuTimer","Y",30)):(t.classList.remove("notShown"),window.setCookie("hideSudokuTimer","N",30))}var w=!1,y=!1,z=!1,k=0,u,l=0,n=0,q=0,f=[],v={easy:20,medium:45,hard:75,veryhard:125},C=document.getElementById("gameBoard_UI"),x=document.getElementById("hideTimer"),t=document.getElementById("timer"),
m=function(a,e){this.x=a;this.y=e;this.neighbors=[];this.hasBombNeighbor=this.bomb=!1;this.bombNeighborCount=0;this.checked=!1;this.clickable=!0;this.flipped=this.questionMark=this.flag=!1};m.prototype.setNeighbors=function(){for(var a=[-1,0,1],e=$jscomp.makeIterator(a),b=e.next();!b.done;b=e.next())for(var b=b.value,c=$jscomp.makeIterator(a),d=c.next();!d.done;d=c.next()){var d=d.value,f=this.x+b,g=this.y+d;0<=f&&f<k&&0<=g&&g<k&&(0!==b||0!==d)&&this.neighbors.push([this.x+b,this.y+d])}};m.prototype.setBomb=
function(){this.bomb=!0;for(var a=$jscomp.makeIterator(this.neighbors),b=a.next();!b.done;b=a.next())b=b.value,f[b[0]][b[1]].hasBombNeighbor=!0,f[b[0]][b[1]].bombNeighborCount++};m.prototype.handleClick=function(a){if(w&&!y&&!this.flipped){if(0===a.button&&this.clickable)if(this.bomb){y=this.flipped=!0;this.clickable=!1;b(this.x,this.y).classList.add("explosion");for(a=0;a<k;a++)for(var e=0;e<k;e++)f[a][e].bomb&&this.x!==a&&this.y!==e&&!f[a][e].flag?b(a,e).classList.add("bomb"):f[a][e].bomb&&f[a][e].flag?
(b(a,e).classList.remove("flag"),b(a,e).classList.add("correct")):!f[a][e].bomb&&f[a][e].flag&&(b(a,e).classList.remove("flag"),b(a,e).classList.add("incorrect"));clearTimeout(u);window.modal("You Lose!",2E3)}else if(this.hasBombNeighbor)this.showNumber();else{for(a=0;a<k;a++)for(e=0;e<k;e++)f[a][e].checked=!1;d(this.x,this.y)}else 2===a.button&&this.showFlagOrQuestionMark();a=c();for(var e=Math.pow(k,2),g=0,h=0,n=0,l=0;l<k;l++)for(var m=0;m<k;m++)f[l][m].flipped&&g++,f[l][m].flag&&n++,f[l][m].bomb&&
f[l][m].flag&&h++;if(h===a&&g===a||e-g===a)y=!0,clearTimeout(u),window.modal("You Win!",2E3)}};m.prototype.showFlagOrQuestionMark=function(){this.flag?(b(this.x,this.y).textContent="?",b(this.x,this.y).classList.remove("flag"),b(this.x,this.y).classList.add("question-mark"),this.flag=!1,this.questionMark=!0):(this.questionMark?(b(this.x,this.y).textContent="",this.questionMark=this.flag=!1,this.clickable=!0,b(this.x,this.y).classList.remove("flag")):(this.flag=!0,this.clickable=!1,b(this.x,this.y).classList.add("flag")),
b(this.x,this.y).classList.remove("question-mark"))};m.prototype.showNumber=function(){this.flipped=!0;this.clickable=!1;b(this.x,this.y).textContent=this.bombNeighborCount;b(this.x,this.y).classList.add("flipped")};(function(){document.getElementById("buildGrid").addEventListener("click",r);x.addEventListener("click",A);x.checked="Y"===window.getCookie("hideSudokuTimer");A();document.oncontextmenu=function(){return!1}})()})();
